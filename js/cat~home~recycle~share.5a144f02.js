(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["cat~home~recycle~share"],{"2a8f":function(t,e,s){"use strict";s("a7b3")},"2a94":function(t,e,s){"use strict";s("6957")},"2fbc":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"breadcrumb"},[s("div",{staticClass:"breadcrumb-start"},[s("router-link",{class:{"router-link-exact-active":"/"===t.$route.fullPath},attrs:{to:"/"}},[t._v(" "+t._s(t.$locale.common.all)+" ")]),t._l(t.paths,(function(e,a){return[s("div",{key:a},[s("i",{staticClass:"fas fa-angle-right"}),s("router-link",{attrs:{to:{query:{currentPath:e.path}}}},[t._v(" "+t._s(e.name)+" ")])],1)]}))],2),s("div",{staticClass:"breadcrumb-end"},[t.checkedCount>0?s("span",[t._v(t._s(t.selectedText))]):t._e()])])},c=[],o={props:{checkedCount:{type:Number,default(){return 0}},allChecked:{type:Boolean,default(){return!1}}},computed:{selectedText(){return this.allChecked?this.$locale.common.selected.all.replace("?",this.checkedCount):1===this.checkedCount?this.$locale.common.selected.one.replace("?",this.checkedCount):this.$locale.common.selected.more.replace("?",this.checkedCount)},paths(){let t=this.$route.query.currentPath,e=[];if("string"===typeof t&&t.length>0){let s=t.lastIndexOf("\\");while(-1!==s){let a=t.substr(s+1);e.unshift({name:a,path:t}),t=t.substr(0,s),s=t.lastIndexOf("\\")}e.unshift({name:t,path:t})}return e}}},l=o,i=(s("467b"),s("0c7c")),n=Object(i["a"])(l,a,c,!1,null,"4cff62b6",null);e["a"]=n.exports},"35f3":function(t,e,s){"use strict";s("e807")},3957:function(t,e,s){},"467b":function(t,e,s){"use strict";s("e32c")},"48e3":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-lang-swap",attrs:{title:t.$locale.common.btnLangTips},on:{click:t.$swapLang}},[s("span",{staticClass:"text"},[t._v(t._s(t.$locale.common.langTag))])])},c=[],o=(s("f566"),s("0c7c")),l={},i=Object(o["a"])(l,a,c,!1,null,"726851f1",null);e["a"]=i.exports},6957:function(t,e,s){},"75ae":function(t,e,s){"use strict";s("ffc9")},"7a0f":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"head"},[s("div",{staticClass:"options"},[s("BtnLogout"),t.isSettings?s("BtnHome"):s("BtnSettings"),s("BtnLangSwap")],1),s("div",{staticClass:"user"},[s("div",{staticClass:"user-name",class:{empty:0===t.$user.name.length}},[t._v(" "+t._s(t.$user.name)+" ")]),s("div",{staticClass:"user-role",class:{empty:0===t.$user.role.length}},[t._v(" "+t._s(t.$user.role)+" ")]),s("div",{staticClass:"user-space",attrs:{title:t.userSpaceTitle}},[s("div",{staticClass:"used",style:{width:t.usedSpaceWidth}},[s("span",[t._v(" "+t._s(t.usedSpace)+" / "+t._s(t.allSpace)+" ")])])])])])},c=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-logout",attrs:{title:t.$locale.common.btnLogout},on:{click:t.handleLogout}},[s("i",{staticClass:"fas fa-sign-out-alt"})])},l=[],i={methods:{handleLogout(){this.$startLoading(),this.$http.post("/api/logout",{id:this.$user.id,token:this.$user.token}).then(t=>{t.data.success&&this.$setUser({id:0}),this.$router.push("/login"),this.$stopLoading()}).catch(t=>{this.$router.push("/login"),this.$stopLoading()})}}},n=i,r=(s("2a94"),s("0c7c")),u=Object(r["a"])(n,o,l,!1,null,"00ff2e48",null),h=u.exports,d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-home",attrs:{title:t.$locale.common.btnHomeTips},on:{click:t.handleClick}},[s("i",{staticClass:"fas fa-hdd"})])},f=[],p={methods:{handleClick(){this.$router.push("/")}}},m=p,$=(s("9490"),Object(r["a"])(m,d,f,!1,null,"048a067e",null)),C=$.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"btn-settings",attrs:{title:t.$locale.common.btnSettingsTips},on:{click:t.handleClick}},[s("i",{staticClass:"fas fa-cog"})])},_=[],b={methods:{handleClick(){this.$router.push("/settings")}}},g=b,k=(s("b8c2"),Object(r["a"])(g,v,_,!1,null,"3c022f22",null)),w=k.exports,y=s("48e3"),S={props:{isSettings:{type:Boolean,default(){return!1}}},components:{BtnLogout:h,BtnHome:C,BtnSettings:w,BtnLangSwap:y["a"]},computed:{userSpaceTitle(){return`${this.$locale.common.usedSpace}: ${this.usedSpace}\n${this.$locale.common.allSpace}: ${this.allSpace}`},usedSpaceWidth(){return Math.round(this.$user.usedSpace/this.$user.allSpace)+"%"},usedSpace(){return this.$convertSpace2String(this.$user.usedSpace)},allSpace(){return this.$convertSpace2String(this.$user.allSpace)}}},x=S,T=(s("7c67"),Object(r["a"])(x,a,c,!1,null,"dfcc4386",null));e["a"]=T.exports},"7c67":function(t,e,s){"use strict";s("8fac")},8053:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"copyright"},[t._v("Â© 2021 jinyaoMa")])},c=[],o=(s("f4d6"),s("0c7c")),l={},i=Object(o["a"])(l,a,c,!1,null,"43e0ccf1",null);e["a"]=i.exports},"8fac":function(t,e,s){},9490:function(t,e,s){"use strict";s("3957")},"9f50":function(t,e,s){"use strict";s("be60")},a7b3:function(t,e,s){},b4fc:function(t,e,s){},b506:function(t,e,s){},b747:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"btn-recycling",attrs:{title:t.customTitle},on:{click:function(e){return t.$emit("click")}}},[t.forCancelShare?s("i",{staticClass:"fas fa-times-circle fa-fw"}):s("i",{staticClass:"fas fa-trash fa-fw"})])},c=[],o={props:{forCancelShare:{type:Boolean,default(){return!1}}},computed:{customTitle(){return this.forCancelShare?this.$locale.common.cancelShare:this.$locale.common.recycling}}},l=o,i=(s("2a8f"),s("0c7c")),n=Object(i["a"])(l,a,c,!1,null,"4eef7b62",null);e["a"]=n.exports},b8c2:function(t,e,s){"use strict";s("dd5f")},b9bc:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("i",{staticClass:"check-square",class:{"fas fa-check-square":!this.prepared&&this.checked,"far fa-square":!this.prepared&&!this.checked,"fas fa-minus-square":this.prepared},on:{click:t.handleClick}})},c=[],o={props:{fileId:{type:Number,default(){return 0}},checked:{type:Boolean,default(){return!1}},prepared:{type:Boolean,default(){return!1}}},methods:{handleClick(){this.$emit("click",this.fileId,!this.checked)}}},l=o,i=(s("35f3"),s("0c7c")),n=Object(i["a"])(l,a,c,!1,null,"54b787c1",null);e["a"]=n.exports},be60:function(t,e,s){},db9f:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"task-bar"},[s("div",{staticClass:"start"},["/"==t.$route.path?s("div",{staticClass:"btn-upload"},[t._v(" "+t._s(t.$locale.common.upload)+" "),s("input",{ref:"upload",staticClass:"btn-upload",attrs:{type:"file"},on:{change:t.handleUploadClick}})]):t._e(),t.canNewFolder&&"/"==t.$route.path?s("button",{staticClass:"btn-new-folder",on:{click:function(e){return t.$emit("newFolder")}}},[t._v(" "+t._s(t.$locale.common.newFolder)+" ")]):t._e(),t.filesToDownload.length>0&&"/share"==t.$route.path?s("button",{staticClass:"btn-upload",on:{click:t.handleUpdateManyShares}},[t._v(" "+t._s(t.$locale.common.updateShare)+" ")]):t._e(),t.filesToDownload.length>0&&"/share"==t.$route.path?s("button",{staticClass:"btn-new-folder isDelete",on:{click:t.handleCancelManyShares}},[t._v(" "+t._s(t.$locale.common.cancelShare)+" ")]):t._e(),t.filesToDownload.length>0&&"/recycle"!=t.$route.path?s("button",{staticClass:"btn-new-folder",on:{click:t.handleDownloadManyFiles}},[t._v(" "+t._s(t.$locale.common.download)+" ")]):t._e(),t.filesToDownload.length>0&&"/recycle"==t.$route.path?s("button",{staticClass:"btn-new-folder isDelete",on:{click:t.handleDeleteManyFiles}},[t._v(" "+t._s(t.$locale.common.recycling)+" ")]):t._e(),t.cutOptions.canPaste?s("button",{staticClass:"btn-new-folder",on:{click:t.handlePaste}},[t._v(" "+t._s(t.$locale.common.paste)+" ")]):t._e(),s("span",{staticClass:"src-path-hint"},[t._v(t._s(t.cutOptions.srcPath))])]),s("div",{staticClass:"end"},[s("div",{staticClass:"loaded"},[t.searchComplete?[t._v(" "+t._s(t.searchCompleteText)+" ")]:[t._v(" "+t._s(t.loadedText)+" ")]],2),s("div",{staticClass:"search-input"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword,expression:"keyword"}],attrs:{type:"text",placeholder:t.$locale.common.searchPlaceholder},domProps:{value:t.keyword},on:{input:function(e){e.target.composing||(t.keyword=e.target.value)}}}),s("button",{staticClass:"btn-search",on:{click:function(e){return t.$emit("search",t.keyword,t.searchCompleteCallback)}}},[s("i",{staticClass:"fas fa-search"})])])])])},c=[],o={props:{currentFilesCount:{type:Number,default(){return 0}},filesToDownload:{type:Array,default(){return[]}},cutOptions:{type:Object,default(){return{canPaste:!1,srcId:0,srcPath:""}}},canNewFolder:{type:Boolean,default(){return!1}}},computed:{searchCompleteText(){return 1===this.currentFilesCount?this.$locale.common.searchCompleted.one.replace("?",this.currentFilesCount):this.$locale.common.searchCompleted.more.replace("?",this.currentFilesCount)},loadedText(){return 1===this.currentFilesCount?this.$locale.common.loaded.one.replace("?",this.currentFilesCount):this.$locale.common.loaded.more.replace("?",this.currentFilesCount)}},methods:{handleCancelManyShares(){this.$startLoading();let t=!1;this.filesToDownload.forEach(async(e,s)=>{t||await this.$http.post("/api/files/shareFile",{id:this.$user.id,token:this.$user.token,fileId:e.ID,cancel:!0}).then(e=>{if(e.data.success){if(s+1===this.filesToDownload.length){let t=e.data.data;this.$setFiles(t.files)}}else t=!0,this.$showError(this.$locale.common.errorMsg);this.$stopLoading()}).catch(e=>{t=!0,this.$showError(this.$locale.common.errorServer),this.$stopLoading()})})},handleUpdateManyShares(){this.$startLoading();let t=!1;this.filesToDownload.forEach(async(e,s)=>{t||await this.$http.post("/api/files/shareFile",{id:this.$user.id,token:this.$user.token,fileId:e.ID}).then(e=>{if(e.data.success){if(s+1===this.filesToDownload.length){let t=e.data.data;this.$setFiles(t.files)}}else t=!0,this.$showError(this.$locale.common.errorMsg);this.$stopLoading()}).catch(e=>{t=!0,this.$showError(this.$locale.common.errorServer),this.$stopLoading()})})},handleDeleteManyFiles(){this.$startLoading();let t=!1;this.filesToDownload.forEach(async(e,s)=>{t||await this.$http.post("/api/files/delete",{id:this.$user.id,token:this.$user.token,fileId:e.ID}).then(e=>{if(e.data.success){if(s+1===this.filesToDownload.length){let t=e.data.data;this.$setUser({usedSpace:t.usedSpace,allSpace:t.allSpace}),this.$setFiles(t.files)}}else t=!0,this.$showError(this.$locale.common.errorMsg);this.$stopLoading()}).catch(e=>{t=!0,this.$showError(this.$locale.common.errorServer),this.$stopLoading()})})},handleDownloadManyFiles(){let t=100,e=1e3,s=(t,e,s)=>{setTimeout(()=>{var e=document.createElement("iframe");e.src=t,e.style.display="none",document.body.appendChild(e),setTimeout(()=>{e.remove()},s)},e)},a=document.querySelectorAll("[download='file'][data-check='true']");a.forEach((a,c)=>{s(a.href,c*t,e)})},handleUploadClick(){let t=this.$refs.upload;t&&1===t.files.length&&this.$emit("upload",t.files[0])},handlePaste(){this.$startLoading(),this.$http.post("/api/files/moveFile",{id:this.$user.id,token:this.$user.token,srcId:this.cutOptions.srcId,desId:this.$getCurrentPathId()}).then(t=>{t.data.success?(this.$setFiles(t.data.data.files),this.clearCutOptions()):this.$showError(this.$locale.common.errorMsg),this.$stopLoading()}).catch(t=>{this.$showError(this.$locale.common.errorServer),this.$stopLoading()})},clearCutOptions(){this.cutOptions.canPaste=!1,this.cutOptions.srcId=0,this.cutOptions.srcPath=""},searchCompleteCallback(){this.searchComplete=!0},clearSearchKeyword(){this.keyword="",this.searchComplete=!1}},data(){return{keyword:"",searchComplete:!1}}},l=o,i=(s("9f50"),s("0c7c")),n=Object(i["a"])(l,a,c,!1,null,"d2efc88a",null);e["a"]=n.exports},dd5f:function(t,e,s){},e32c:function(t,e,s){},e807:function(t,e,s){},ebad:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"layout"},[s("Head"),s("div",{staticClass:"main"},[s("div",{staticClass:"cat"},[s("Copyright"),s("router-link",{attrs:{to:"/","exact-path":""}},[s("i",{staticClass:"fas fa-file fa-fw"}),t._v(" "+t._s(t.$locale.common.all)+" ")]),s("router-link",{attrs:{to:"/picture","exact-path":""}},[s("i",{staticClass:"fas fa-fw"}),t._v(" "+t._s(t.$locale.common.pictures)+" ")]),s("router-link",{attrs:{to:"/videos","exact-path":""}},[s("i",{staticClass:"fas fa-fw"}),t._v(" "+t._s(t.$locale.common.videos)+" ")]),s("router-link",{attrs:{to:"/music","exact-path":""}},[s("i",{staticClass:"fas fa-fw"}),t._v(" "+t._s(t.$locale.common.music)+" ")]),s("router-link",{attrs:{to:"/other","exact-path":""}},[s("i",{staticClass:"fas fa-fw"}),t._v(" "+t._s(t.$locale.common.other)+" ")]),s("router-link",{attrs:{to:"/share","exact-path":""}},[s("i",{staticClass:"fas fa-share-alt fa-fw"}),t._v(" "+t._s(t.$locale.common.share)+" ")]),s("router-link",{attrs:{to:"/recycle","exact-path":""}},[s("i",{staticClass:"fas fa-trash-alt fa-fw"}),t._v(" "+t._s(t.$locale.common.recycle)+" ")])],1),s("div",{staticClass:"frame"},[t._t("default")],2)])],1)},c=[],o=s("7a0f"),l=s("8053"),i={components:{Head:o["a"],Copyright:l["a"]}},n=i,r=(s("75ae"),s("0c7c")),u=Object(r["a"])(n,a,c,!1,null,"3afa582c",null);e["a"]=u.exports},f4d6:function(t,e,s){"use strict";s("b4fc")},f566:function(t,e,s){"use strict";s("b506")},ffc9:function(t,e,s){}}]);
//# sourceMappingURL=cat~home~recycle~share.5a144f02.js.map
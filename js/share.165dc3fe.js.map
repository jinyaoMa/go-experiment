{"version":3,"sources":["webpack:///./src/components/BtnDownloadFile.vue?e0fb","webpack:///./src/components/BtnDownloadFile.vue?9784","webpack:///src/components/BtnDownloadFile.vue","webpack:///./src/components/BtnDownloadFile.vue?6faa","webpack:///./src/components/BtnDownloadFile.vue","webpack:///./src/views/Share.vue?4e2c","webpack:///./src/components/BtnSharing.vue?1e73","webpack:///src/components/BtnSharing.vue","webpack:///./src/components/BtnSharing.vue?dc4d","webpack:///./src/components/BtnSharing.vue","webpack:///./src/components/BtnSharing.vue?ba3b","webpack:///./src/views/Share.vue?7483","webpack:///src/views/Share.vue","webpack:///./src/views/Share.vue?d57e","webpack:///./src/views/Share.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","url","$locale","common","download","staticRenderFns","props","type","String","component","customTitle","on","$event","$emit","forUpdate","Boolean","computed","updateShare","sharing","ref","currentFiles","length","filesToDownload","cutOptions","searchKeyword","handleSearch","handleNewFolderClick","handleUploadFile","checkedItemsAmount","handleAllCheck","handleSortName","_v","_s","home","filename","sortBy","sortOrder","_e","handleSortSize","size","handleSortUpdatedAt","share","expiredAt","parentPath","handleClearOpts","endSearch","query","currentPath","back2Parent","directives","name","rawName","value","expression","domProps","indexOf","_k","keyCode","key","handleNewFolder","apply","arguments","target","composing","newFolderName","showNewFolderForm","_l","file","ID","isChecked","handleSingleCheck","Type","handleRenameFile","renameFileName","canRename","Path","Name","getFileDownloadLink","$route","path","handleSharingClick","handleRecyclingClick","$convertSpace2String","Size","$formatDate","ShareExpiredAt","offset","currentSortedFiles","loadMore","components","Layout","TaskBar","CheckSquare","Breadcrumb","BtnDownloadFile","BtnSharing","BtnRecycling","watch","methods","data","FormData","append","$user","id","token","$getCurrentPathId","$setProgress","$startProgressing","$http","post","headers","transformRequest","onUploadProgress","progressEvent","complete","loaded","total","then","res","success","$setUser","usedSpace","allSpace","$setFiles","files","$showError","errorMsg","$stopProgressing","catch","err","errorServer","$startLoading","fileId","cancel","$stopLoading","folderName","desId","newFolder","shareLink","defaults","baseURL","c","d","e","$showShareNotice","renameFileId","i","substr","ShareCode","_","checked","forEach","$clearChecklist","$setFileCheckById","$refs","taskBar","clearSearchKeyword","keyword","currentUnsortedFiles","filter","item","lastSlashIndex","lastIndexOf","slice","sort","a","b","$files","Recycled","$isDateBefore","Date","toISOString","includes","isSelectAll","canPaste","srcId","srcPath","$router","push"],"mappings":"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","file":"js/share.165dc3fe.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BtnDownloadFile.vue?vue&type=style&index=0&id=b330b7f6&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"btn-download-file\",attrs:{\"href\":_vm.url,\"download\":\"file\",\"title\":_vm.$locale.common.download}},[_c('i',{staticClass:\"fas fa-download fa-fw\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <a\r\n    class=\"btn-download-file\"\r\n    :href=\"url\"\r\n    download=\"file\"\r\n    :title=\"$locale.common.download\"\r\n  >\r\n    <i class=\"fas fa-download fa-fw\" />\r\n  </a>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    url: {\r\n      type: String,\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.btn-download-file {\r\n  color: #333333;\r\n  text-decoration: none;\r\n  transition: 0.2s;\r\n  opacity: 0.5;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BtnDownloadFile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BtnDownloadFile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BtnDownloadFile.vue?vue&type=template&id=b330b7f6&scoped=true&\"\nimport script from \"./BtnDownloadFile.vue?vue&type=script&lang=js&\"\nexport * from \"./BtnDownloadFile.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BtnDownloadFile.vue?vue&type=style&index=0&id=b330b7f6&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b330b7f6\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Share.vue?vue&type=style&index=0&id=ec6d294e&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"btn-sharing\",attrs:{\"title\":_vm.customTitle},on:{\"click\":function($event){return _vm.$emit('click')}}},[(_vm.forUpdate)?_c('i',{staticClass:\"fas fa-sync-alt fa-fw\"}):_c('i',{staticClass:\"fas fa-share-alt fa-fw\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <span class=\"btn-sharing\" :title=\"customTitle\" @click=\"$emit('click')\">\r\n    <i v-if=\"forUpdate\" class=\"fas fa-sync-alt fa-fw\" />\r\n    <i v-else class=\"fas fa-share-alt fa-fw\" />\r\n  </span>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    forUpdate: {\r\n      type: Boolean,\r\n      default() {\r\n        return false;\r\n      },\r\n    },\r\n  },\r\n  computed: {\r\n    customTitle() {\r\n      return this.forUpdate\r\n        ? this.$locale.common.updateShare\r\n        : this.$locale.common.sharing;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.btn-sharing {\r\n  color: #333333;\r\n  text-decoration: none;\r\n  transition: 0.2s;\r\n  opacity: 0.5;\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BtnSharing.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BtnSharing.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BtnSharing.vue?vue&type=template&id=7d44a390&scoped=true&\"\nimport script from \"./BtnSharing.vue?vue&type=script&lang=js&\"\nexport * from \"./BtnSharing.vue?vue&type=script&lang=js&\"\nimport style0 from \"./BtnSharing.vue?vue&type=style&index=0&id=7d44a390&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7d44a390\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./BtnSharing.vue?vue&type=style&index=0&id=7d44a390&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Layout',[_c('div',{staticClass:\"home\"},[_c('TaskBar',{ref:\"taskBar\",attrs:{\"currentFilesCount\":_vm.currentFiles.length,\"filesToDownload\":_vm.filesToDownload,\"cutOptions\":_vm.cutOptions,\"canNewFolder\":_vm.searchKeyword.length === 0},on:{\"search\":_vm.handleSearch,\"newFolder\":_vm.handleNewFolderClick,\"upload\":_vm.handleUploadFile}}),_c('div',{staticClass:\"home-frame\"},[_c('Breadcrumb',{attrs:{\"checkedCount\":_vm.checkedItemsAmount,\"allChecked\":_vm.checkedItemsAmount === _vm.currentFiles.length}}),_c('table',[_c('thead',[_c('tr',[_c('td',{staticClass:\"col-select\"},[_c('CheckSquare',{attrs:{\"prepared\":_vm.checkedItemsAmount > 0 &&\n                  _vm.checkedItemsAmount < _vm.currentFiles.length,\"checked\":_vm.checkedItemsAmount === _vm.currentFiles.length},on:{\"click\":_vm.handleAllCheck}})],1),_c('td',{on:{\"click\":_vm.handleSortName}},[_vm._v(\" \"+_vm._s(_vm.$locale.home.filename)+\" \"),(_vm.sortBy === 'Name')?[(_vm.sortOrder === 'DESC')?_c('i',{staticClass:\"fas fa-sort-alpha-up\"}):_c('i',{staticClass:\"fas fa-sort-alpha-down\"})]:_vm._e()],2),_c('td',{staticClass:\"col-size\",on:{\"click\":_vm.handleSortSize}},[_vm._v(\" \"+_vm._s(_vm.$locale.home.size)+\" \"),(_vm.sortBy === 'Size')?[(_vm.sortOrder === 'DESC')?_c('i',{staticClass:\"fas fa-sort-numeric-up-alt\"}):_c('i',{staticClass:\"fas fa-sort-numeric-down\"})]:_vm._e()],2),_c('td',{staticClass:\"col-modified-at\",on:{\"click\":_vm.handleSortUpdatedAt}},[_vm._v(\" \"+_vm._s(_vm.$locale.share.expiredAt)+\" \"),(_vm.sortBy === 'ShareExpiredAt')?[(_vm.sortOrder === 'DESC')?_c('i',{staticClass:\"fas fa-sort-amount-up\"}):_c('i',{staticClass:\"fas fa-sort-amount-down\"})]:_vm._e()],2)])]),_c('tbody',[(_vm.parentPath != null || _vm.searchKeyword)?_c('tr',[_c('td',{staticClass:\"col-select\"}),_c('td',{attrs:{\"colspan\":\"3\"}},[_c('div',{staticClass:\"col-filename\"},[(_vm.searchKeyword)?_c('span',{staticClass:\"col-filename-start back\",on:{\"click\":_vm.handleClearOpts}},[_c('i',{staticClass:\"fas fa-arrow-left fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.$locale.home.endSearch)+\" \")]):_c('router-link',{staticClass:\"col-filename-start back\",attrs:{\"to\":{\n                    query: {\n                      currentPath: _vm.parentPath,\n                    },\n                  }}},[_c('i',{staticClass:\"fas fa-reply fa-fw\"}),_vm._v(\" \"+_vm._s(_vm.$locale.home.back2Parent)+\" \")])],1)])]):_vm._e(),(_vm.showNewFolderForm)?_c('tr',[_c('td',{staticClass:\"col-select\"}),_c('td',{attrs:{\"colspan\":\"3\"}},[_c('div',{staticClass:\"col-filename\"},[_c('div',{staticClass:\"col-filename-start\"},[_c('div',{staticClass:\"form-rename\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.newFolderName),expression:\"newFolderName\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.newFolderName)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleNewFolder.apply(null, arguments)},\"input\":function($event){if($event.target.composing){ return; }_vm.newFolderName=$event.target.value}}}),_c('i',{staticClass:\"fas fa-check fa-fw\",on:{\"click\":_vm.handleNewFolder}}),_c('i',{staticClass:\"fas fa-times fa-fw\",on:{\"click\":function($event){_vm.showNewFolderForm = false}}})])])])])]):_vm._e(),_vm._l((_vm.currentFiles),function(file){return _c('tr',{key:file.ID},[_c('td',{staticClass:\"col-select\"},[_c('CheckSquare',{attrs:{\"fileId\":file.ID,\"checked\":file.isChecked},on:{\"click\":_vm.handleSingleCheck}})],1),_c('td',[_c('div',{staticClass:\"col-filename\"},[(file.Type === 'directory')?_c('div',{staticClass:\"col-filename-start\"},[(file.canRename)?_c('div',{staticClass:\"form-rename\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.renameFileName),expression:\"renameFileName\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.renameFileName)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleRenameFile(file)},\"input\":function($event){if($event.target.composing){ return; }_vm.renameFileName=$event.target.value}}}),_c('i',{staticClass:\"fas fa-check fa-fw\",on:{\"click\":function($event){return _vm.handleRenameFile(file)}}}),_c('i',{staticClass:\"fas fa-times fa-fw\",on:{\"click\":function($event){file.canRename = false}}})]):_c('div',[_c('router-link',{attrs:{\"to\":{\n                        query: {\n                          currentPath: file.Path,\n                        },\n                      }}},[_c('i',{staticClass:\"fas fa-folder fa-fw\"}),_vm._v(\" \"+_vm._s(file.Name)+\" \"),_c('span',{staticClass:\"hint\"},[_vm._v(\" \"+_vm._s(file.Path)+\" \")])])],1)]):_c('div',{staticClass:\"col-filename-start\"},[(file.canRename)?_c('div',{staticClass:\"form-rename\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.renameFileName),expression:\"renameFileName\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.renameFileName)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.handleRenameFile(file)},\"input\":function($event){if($event.target.composing){ return; }_vm.renameFileName=$event.target.value}}}),_c('i',{staticClass:\"fas fa-check fa-fw\",on:{\"click\":function($event){return _vm.handleRenameFile(file)}}}),_c('i',{staticClass:\"fas fa-times fa-fw\",on:{\"click\":function($event){file.canRename = false}}})]):_c('div',[_c('i',{staticClass:\"fas fa-file fa-fw\"}),_vm._v(\" \"+_vm._s(file.Name)+\" \"),_c('span',{staticClass:\"hint\"},[_vm._v(\" \"+_vm._s(file.Path)+\" \")])])]),_c('div',{staticClass:\"col-filename-end\"},[(file.Type === 'file')?_c('BtnDownloadFile',{attrs:{\"data-check\":file.isChecked,\"url\":_vm.getFileDownloadLink(file)}}):_vm._e(),(file.Type === 'file')?_c('BtnSharing',{attrs:{\"forUpdate\":_vm.$route.path === '/share'},on:{\"click\":function($event){return _vm.handleSharingClick(file)}}}):_vm._e(),_c('BtnRecycling',{attrs:{\"forCancelShare\":_vm.$route.path === '/share'},on:{\"click\":function($event){return _vm.handleRecyclingClick(file)}}})],1)])]),(file.Type === 'directory')?_c('td',[_vm._v(\"-\")]):_c('td',[_vm._v(_vm._s(_vm.$convertSpace2String(file.Size)))]),_c('td',[_vm._v(\" \"+_vm._s(_vm.$formatDate(file.ShareExpiredAt, \"YYYY-MM-DD HH:mm\"))+\" \")])])}),(_vm.offset < _vm.currentSortedFiles.length)?_c('tr',[_c('td',{staticClass:\"more\",attrs:{\"colspan\":\"4\"},on:{\"click\":function($event){_vm.offset += 10}}},[_vm._v(\" \"+_vm._s(_vm.$locale.common.loadMore)+\" \")])]):_vm._e()],2)])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <Layout>\r\n    <div class=\"home\">\r\n      <TaskBar\r\n        ref=\"taskBar\"\r\n        :currentFilesCount=\"currentFiles.length\"\r\n        :filesToDownload=\"filesToDownload\"\r\n        :cutOptions=\"cutOptions\"\r\n        :canNewFolder=\"searchKeyword.length === 0\"\r\n        @search=\"handleSearch\"\r\n        @newFolder=\"handleNewFolderClick\"\r\n        @upload=\"handleUploadFile\"\r\n      />\r\n      <div class=\"home-frame\">\r\n        <Breadcrumb\r\n          :checkedCount=\"checkedItemsAmount\"\r\n          :allChecked=\"checkedItemsAmount === currentFiles.length\"\r\n        />\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <td class=\"col-select\">\r\n                <CheckSquare\r\n                  :prepared=\"\r\n                    checkedItemsAmount > 0 &&\r\n                    checkedItemsAmount < currentFiles.length\r\n                  \"\r\n                  :checked=\"checkedItemsAmount === currentFiles.length\"\r\n                  @click=\"handleAllCheck\"\r\n                />\r\n              </td>\r\n              <td @click=\"handleSortName\">\r\n                {{ $locale.home.filename }}\r\n                <template v-if=\"sortBy === 'Name'\">\r\n                  <i v-if=\"sortOrder === 'DESC'\" class=\"fas fa-sort-alpha-up\" />\r\n                  <i v-else class=\"fas fa-sort-alpha-down\" />\r\n                </template>\r\n              </td>\r\n              <td class=\"col-size\" @click=\"handleSortSize\">\r\n                {{ $locale.home.size }}\r\n                <template v-if=\"sortBy === 'Size'\">\r\n                  <i\r\n                    v-if=\"sortOrder === 'DESC'\"\r\n                    class=\"fas fa-sort-numeric-up-alt\"\r\n                  />\r\n                  <i v-else class=\"fas fa-sort-numeric-down\" />\r\n                </template>\r\n              </td>\r\n              <td class=\"col-modified-at\" @click=\"handleSortUpdatedAt\">\r\n                {{ $locale.share.expiredAt }}\r\n                <template v-if=\"sortBy === 'ShareExpiredAt'\">\r\n                  <i\r\n                    v-if=\"sortOrder === 'DESC'\"\r\n                    class=\"fas fa-sort-amount-up\"\r\n                  />\r\n                  <i v-else class=\"fas fa-sort-amount-down\" />\r\n                </template>\r\n              </td>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-if=\"parentPath != null || searchKeyword\">\r\n              <td class=\"col-select\"></td>\r\n              <td colspan=\"3\">\r\n                <div class=\"col-filename\">\r\n                  <span\r\n                    v-if=\"searchKeyword\"\r\n                    class=\"col-filename-start back\"\r\n                    @click=\"handleClearOpts\"\r\n                  >\r\n                    <i class=\"fas fa-arrow-left fa-fw\" />\r\n                    {{ $locale.home.endSearch }}\r\n                  </span>\r\n                  <router-link\r\n                    v-else\r\n                    class=\"col-filename-start back\"\r\n                    :to=\"{\r\n                      query: {\r\n                        currentPath: parentPath,\r\n                      },\r\n                    }\"\r\n                  >\r\n                    <i class=\"fas fa-reply fa-fw\" />\r\n                    {{ $locale.home.back2Parent }}\r\n                  </router-link>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            <tr v-if=\"showNewFolderForm\">\r\n              <td class=\"col-select\"></td>\r\n              <td colspan=\"3\">\r\n                <div class=\"col-filename\">\r\n                  <div class=\"col-filename-start\">\r\n                    <div class=\"form-rename\">\r\n                      <input\r\n                        type=\"text\"\r\n                        v-model=\"newFolderName\"\r\n                        @keyup.enter=\"handleNewFolder\"\r\n                      />\r\n                      <i class=\"fas fa-check fa-fw\" @click=\"handleNewFolder\" />\r\n                      <i\r\n                        class=\"fas fa-times fa-fw\"\r\n                        @click=\"showNewFolderForm = false\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n            <tr v-for=\"file in currentFiles\" :key=\"file.ID\">\r\n              <td class=\"col-select\">\r\n                <CheckSquare\r\n                  :fileId=\"file.ID\"\r\n                  :checked=\"file.isChecked\"\r\n                  @click=\"handleSingleCheck\"\r\n                />\r\n              </td>\r\n              <td>\r\n                <div class=\"col-filename\">\r\n                  <div\r\n                    v-if=\"file.Type === 'directory'\"\r\n                    class=\"col-filename-start\"\r\n                  >\r\n                    <div v-if=\"file.canRename\" class=\"form-rename\">\r\n                      <input\r\n                        type=\"text\"\r\n                        v-model=\"renameFileName\"\r\n                        @keyup.enter=\"handleRenameFile(file)\"\r\n                      />\r\n                      <i\r\n                        class=\"fas fa-check fa-fw\"\r\n                        @click=\"handleRenameFile(file)\"\r\n                      />\r\n                      <i\r\n                        class=\"fas fa-times fa-fw\"\r\n                        @click=\"file.canRename = false\"\r\n                      />\r\n                    </div>\r\n                    <div v-else>\r\n                      <router-link\r\n                        :to=\"{\r\n                          query: {\r\n                            currentPath: file.Path,\r\n                          },\r\n                        }\"\r\n                      >\r\n                        <i class=\"fas fa-folder fa-fw\" />\r\n                        {{ file.Name }}\r\n                        <span class=\"hint\">\r\n                          {{ file.Path }}\r\n                        </span>\r\n                      </router-link>\r\n                    </div>\r\n                  </div>\r\n                  <div v-else class=\"col-filename-start\">\r\n                    <div v-if=\"file.canRename\" class=\"form-rename\">\r\n                      <input\r\n                        type=\"text\"\r\n                        v-model=\"renameFileName\"\r\n                        @keyup.enter=\"handleRenameFile(file)\"\r\n                      />\r\n                      <i\r\n                        class=\"fas fa-check fa-fw\"\r\n                        @click=\"handleRenameFile(file)\"\r\n                      />\r\n                      <i\r\n                        class=\"fas fa-times fa-fw\"\r\n                        @click=\"file.canRename = false\"\r\n                      />\r\n                    </div>\r\n                    <div v-else>\r\n                      <i class=\"fas fa-file fa-fw\" />\r\n                      {{ file.Name }}\r\n                      <span class=\"hint\">\r\n                        {{ file.Path }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"col-filename-end\">\r\n                    <BtnDownloadFile\r\n                      v-if=\"file.Type === 'file'\"\r\n                      :data-check=\"file.isChecked\"\r\n                      :url=\"getFileDownloadLink(file)\"\r\n                    />\r\n                    <BtnSharing\r\n                      v-if=\"file.Type === 'file'\"\r\n                      :forUpdate=\"$route.path === '/share'\"\r\n                      @click=\"handleSharingClick(file)\"\r\n                    />\r\n                    <BtnRecycling\r\n                      :forCancelShare=\"$route.path === '/share'\"\r\n                      @click=\"handleRecyclingClick(file)\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </td>\r\n              <td v-if=\"file.Type === 'directory'\">-</td>\r\n              <td v-else>{{ $convertSpace2String(file.Size) }}</td>\r\n              <td>\r\n                {{ $formatDate(file.ShareExpiredAt, \"YYYY-MM-DD HH:mm\") }}\r\n              </td>\r\n            </tr>\r\n            <tr v-if=\"offset < currentSortedFiles.length\">\r\n              <td colspan=\"4\" class=\"more\" @click=\"offset += 10\">\r\n                {{ $locale.common.loadMore }}\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </Layout>\r\n</template>\r\n\r\n<script>\r\nimport Layout from \"../components/Layout.vue\";\r\nimport TaskBar from \"../components/TaskBar.vue\";\r\nimport CheckSquare from \"../components/CheckSquare.vue\";\r\nimport Breadcrumb from \"../components/Breadcrumb.vue\";\r\nimport BtnDownloadFile from \"../components/BtnDownloadFile.vue\";\r\nimport BtnSharing from \"../components/BtnSharing.vue\";\r\nimport BtnRecycling from \"../components/BtnRecycling.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    Layout,\r\n    TaskBar,\r\n    CheckSquare,\r\n    Breadcrumb,\r\n    BtnDownloadFile,\r\n    BtnSharing,\r\n    BtnRecycling,\r\n  },\r\n  watch: {\r\n    $route: {\r\n      handler() {\r\n        this.handleClearOpts();\r\n      },\r\n    },\r\n  },\r\n  methods: {\r\n    handleUploadFile(file) {\r\n      let data = new FormData();\r\n      data.append(\"id\", this.$user.id);\r\n      data.append(\"token\", this.$user.token);\r\n      data.append(\"desId\", this.$getCurrentPathId());\r\n      data.append(\"file\", file);\r\n      this.$setProgress(0);\r\n      this.$startProgressing();\r\n      this.$http\r\n        .post(\"/api/service/upload\", data, {\r\n          headers: {\r\n            \"Content-Type\": \"multipart/form-data;charset=utf-8\",\r\n          },\r\n          transformRequest: [\r\n            function (data) {\r\n              return data;\r\n            },\r\n          ],\r\n          onUploadProgress: (progressEvent) => {\r\n            let complete =\r\n              ((progressEvent.loaded / progressEvent.total) * 100) | 0;\r\n            this.$setProgress(complete);\r\n          },\r\n        })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            let data = res.data.data;\r\n            this.$setUser({\r\n              usedSpace: data.usedSpace,\r\n              allSpace: data.allSpace,\r\n            });\r\n            this.$setFiles(data.files);\r\n          } else {\r\n            this.$showError(this.$locale.common.errorMsg);\r\n          }\r\n          this.$stopProgressing();\r\n        })\r\n        .catch((err) => {\r\n          this.$showError(this.$locale.common.errorServer);\r\n          this.$stopProgressing();\r\n        });\r\n    },\r\n    handleRecyclingClick(file) {\r\n      this.$startLoading();\r\n      this.$http\r\n        .post(\"/api/files/shareFile\", {\r\n          id: this.$user.id,\r\n          token: this.$user.token,\r\n          fileId: file.ID,\r\n          cancel: true,\r\n        })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            let data = res.data.data;\r\n            this.$setFiles(data.files);\r\n          } else {\r\n            this.$showError(this.$locale.common.errorMsg);\r\n          }\r\n          this.$stopLoading();\r\n        })\r\n        .catch((err) => {\r\n          this.$showError(this.$locale.common.errorServer);\r\n          this.$stopLoading();\r\n        });\r\n    },\r\n    handleNewFolder() {\r\n      this.$startLoading();\r\n      this.$http\r\n        .post(\"/api/files/newFolder\", {\r\n          id: this.$user.id,\r\n          token: this.$user.token,\r\n          folderName: this.newFolderName,\r\n          desId: this.$getCurrentPathId(),\r\n        })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.$setFiles(res.data.data.files);\r\n            this.showNewFolderForm = false;\r\n          } else {\r\n            this.$showError(this.$locale.common.errorMsg);\r\n          }\r\n          this.$stopLoading();\r\n        })\r\n        .catch((err) => {\r\n          this.$showError(this.$locale.common.errorServer);\r\n          this.$stopLoading();\r\n        });\r\n    },\r\n    handleNewFolderClick() {\r\n      this.newFolderName = this.$locale.common.newFolder;\r\n      this.showNewFolderForm = true;\r\n    },\r\n    handleSharingClick(file) {\r\n      this.$startLoading();\r\n      this.$http\r\n        .post(\"/api/files/shareFile\", {\r\n          id: this.$user.id,\r\n          token: this.$user.token,\r\n          fileId: file.ID,\r\n        })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            let data = res.data.data;\r\n            let shareLink = `${this.$http.defaults.baseURL}/api/service/download?c=${data.c}&d=${data.d}&e=${data.e}`;\r\n            this.$setFiles(data.files);\r\n            this.$showShareNotice(shareLink);\r\n          } else {\r\n            this.$showError(this.$locale.common.errorMsg);\r\n          }\r\n          this.$stopLoading();\r\n        })\r\n        .catch((err) => {\r\n          this.$showError(this.$locale.common.errorServer);\r\n          this.$stopLoading();\r\n        });\r\n    },\r\n    handleRenameFile(file) {\r\n      this.$startLoading();\r\n      this.$http\r\n        .post(\"/api/files/renameFile\", {\r\n          id: this.$user.id,\r\n          token: this.$user.token,\r\n          fileId: this.renameFileId,\r\n          filename: this.renameFileName,\r\n        })\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            file.Name = this.renameFileName;\r\n            file.canRename = false;\r\n            this.renameFileId = 0;\r\n            this.renameFileName = \"\";\r\n          } else {\r\n            this.$showError(this.$locale.common.errorMsg);\r\n          }\r\n          this.$stopLoading();\r\n        })\r\n        .catch((err) => {\r\n          this.$showError(this.$locale.common.errorServer);\r\n          this.$stopLoading();\r\n        });\r\n    },\r\n    getFileDownloadLink(file) {\r\n      let i = this.$user.usedSpace % 64;\r\n      return `${this.$http.defaults.baseURL}/api/service/download?a=${\r\n        i + 1\r\n      }&b=${this.$user.token.substr(i)}&c=${file.ShareCode}&d=${file.ID}`;\r\n    },\r\n    handleAllCheck(_, checked) {\r\n      if (!checked) {\r\n        this.$clearChecklist();\r\n      } else {\r\n        this.currentFiles.forEach((file) => {\r\n          file.isChecked = true;\r\n        });\r\n      }\r\n    },\r\n    handleSingleCheck(fileId, checked) {\r\n      this.$setFileCheckById({ fileId, isChecked: checked });\r\n    },\r\n    handleSortName() {\r\n      if (this.sortBy === \"Name\") {\r\n        this.sortOrder = this.sortOrder === \"ASC\" ? \"DESC\" : \"ASC\";\r\n      } else {\r\n        this.sortBy = \"Name\";\r\n        this.sortOrder = \"ASC\";\r\n      }\r\n    },\r\n    handleSortSize() {\r\n      if (this.sortBy === \"Size\") {\r\n        this.sortOrder = this.sortOrder === \"DESC\" ? \"ASC\" : \"DESC\";\r\n      } else {\r\n        this.sortBy = \"Size\";\r\n        this.sortOrder = \"DESC\";\r\n      }\r\n    },\r\n    handleSortUpdatedAt() {\r\n      if (this.sortBy === \"ShareExpiredAt\") {\r\n        this.sortOrder = this.sortOrder === \"DESC\" ? \"ASC\" : \"DESC\";\r\n      } else {\r\n        this.sortBy = \"ShareExpiredAt\";\r\n        this.sortOrder = \"DESC\";\r\n      }\r\n    },\r\n    handleClearOpts() {\r\n      this.offset = 10;\r\n      this.searchKeyword = \"\";\r\n      this.$refs.taskBar.clearSearchKeyword();\r\n      this.$clearChecklist();\r\n    },\r\n    handleSearch(keyword, complete) {\r\n      this.searchKeyword = keyword;\r\n      complete();\r\n    },\r\n  },\r\n  computed: {\r\n    filesToDownload() {\r\n      return this.currentUnsortedFiles.filter(\r\n        (file) => file.Type === \"file\" && file.isChecked\r\n      );\r\n    },\r\n    checkedItemsAmount() {\r\n      return this.currentUnsortedFiles.filter((item) => item.isChecked).length;\r\n    },\r\n    parentPath() {\r\n      let currentPath = this.$route.query.currentPath;\r\n      if (typeof currentPath === \"string\" && currentPath.length > 0) {\r\n        let lastSlashIndex = currentPath.lastIndexOf(\"\\\\\");\r\n        if (lastSlashIndex !== -1) {\r\n          return currentPath.substr(0, lastSlashIndex); // parent\r\n        }\r\n        return \"\"; // parent => root\r\n      }\r\n      return null; // already root\r\n    },\r\n    currentFiles() {\r\n      return [\r\n        ...this.currentSortedFiles.filter((file) => file.Type === \"directory\"),\r\n        ...this.currentSortedFiles.filter((file) => file.Type === \"file\"),\r\n      ].slice(0, this.offset);\r\n    },\r\n    currentSortedFiles() {\r\n      if (this.sortOrder === \"DESC\") {\r\n        return this.currentUnsortedFiles.sort((a, b) => {\r\n          if (a[this.sortBy] > b[this.sortBy]) {\r\n            return -1;\r\n          } else if (a[this.sortBy] < b[this.sortBy]) {\r\n            return 1;\r\n          }\r\n          return 0;\r\n        });\r\n      }\r\n      return this.currentUnsortedFiles.sort((a, b) => {\r\n        if (a[this.sortBy] > b[this.sortBy]) {\r\n          return 1;\r\n        } else if (a[this.sortBy] < b[this.sortBy]) {\r\n          return -1;\r\n        }\r\n        return 0;\r\n      });\r\n    },\r\n    currentUnsortedFiles() {\r\n      // search root folder\r\n      if (this.searchKeyword.length > 0) {\r\n        return this.$files.filter((file) => {\r\n          if (\r\n            file.Recycled === 1 ||\r\n            file.Type === \"directory\" ||\r\n            this.$isDateBefore(file.ShareExpiredAt, new Date().toISOString())\r\n          ) {\r\n            return false;\r\n          }\r\n          if (file.Path.includes(this.searchKeyword)) {\r\n            return true;\r\n          }\r\n          return false;\r\n        });\r\n      }\r\n      // root\r\n      return this.$files.filter((file) => {\r\n        if (\r\n          file.Recycled === 1 ||\r\n          file.Type === \"directory\" ||\r\n          this.$isDateBefore(file.ShareExpiredAt, new Date().toISOString())\r\n        ) {\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      offset: 10,\r\n      isSelectAll: false,\r\n      searchKeyword: \"\",\r\n      sortBy: \"ShareExpiredAt\",\r\n      sortOrder: \"DESC\",\r\n      renameFileId: 0,\r\n      renameFileName: \"\",\r\n      newFolderName: \"\",\r\n      cutOptions: {\r\n        canPaste: false,\r\n        srcId: 0,\r\n        srcPath: \"\",\r\n      },\r\n      showNewFolderForm: false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.$startLoading();\r\n    this.$http\r\n      .post(\"/api/files\", {\r\n        id: this.$user.id,\r\n        token: this.$user.token,\r\n      })\r\n      .then((res) => {\r\n        if (res.data.success) {\r\n          this.$setFiles(res.data.data.files);\r\n        } else {\r\n          this.$router.push(\"/login\");\r\n        }\r\n        this.$stopLoading();\r\n      })\r\n      .catch((err) => {\r\n        this.$router.push(\"/login\");\r\n        this.$stopLoading();\r\n      });\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.home {\r\n  display: flex;\r\n  flex-direction: column;\r\n  max-height: 100%;\r\n  height: 100%;\r\n}\r\n.home-frame {\r\n  flex-grow: 1;\r\n  box-sizing: border-box;\r\n}\r\ntable {\r\n  border-collapse: collapse;\r\n  width: 100%;\r\n  table-layout: fixed;\r\n  margin-bottom: 1em;\r\n  thead {\r\n    font-weight: bold;\r\n    td {\r\n      cursor: pointer;\r\n      transition: 0.2s;\r\n      &:not(.col-select) {\r\n        &:hover {\r\n          background-color: #2196f309;\r\n        }\r\n        i {\r\n          color: #2196f3;\r\n          transform-origin: left center;\r\n          transform: scale(1.12);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  td {\r\n    font-size: 0.9em;\r\n    line-height: 3.6;\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    padding: 0 1em;\r\n  }\r\n  tr {\r\n    transition: 0.2s;\r\n    border-bottom: 1px solid #f1f2f3;\r\n    &:hover {\r\n      background-color: #fafbfc;\r\n    }\r\n  }\r\n  .col-select {\r\n    width: 1em;\r\n  }\r\n  .col-filename {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: space-between;\r\n  }\r\n  .col-filename-start {\r\n    flex-grow: 1;\r\n    cursor: default;\r\n    max-width: 100%;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    > i {\r\n      margin-right: 0.5em;\r\n      transform: scale(1.3);\r\n      transform-origin: center center;\r\n    }\r\n    .hint {\r\n      color: #aaabac;\r\n      font-size: 0.8em;\r\n      margin-left: 0.5em;\r\n    }\r\n    a,\r\n    span {\r\n      color: #333333;\r\n      text-decoration: none;\r\n      &.back {\r\n        color: #aaabac;\r\n        user-select: none;\r\n      }\r\n      &:hover {\r\n        color: #2196f3;\r\n      }\r\n    }\r\n  }\r\n  a,\r\n  span {\r\n    &.col-filename-start {\r\n      color: #333333;\r\n      text-decoration: none;\r\n      &.back {\r\n        color: #aaabac;\r\n        user-select: none;\r\n      }\r\n    }\r\n  }\r\n  a.col-filename-start:hover {\r\n    color: #2196f3;\r\n  }\r\n  span.col-filename-start:hover {\r\n    color: #882222;\r\n  }\r\n  .col-filename-end {\r\n    margin-right: 1em;\r\n    > * {\r\n      margin-left: 1em;\r\n    }\r\n  }\r\n  .col-size {\r\n    width: 100px;\r\n  }\r\n  .col-modified-at {\r\n    width: 160px;\r\n  }\r\n  input[type=\"checkbox\"] {\r\n    margin: 0;\r\n  }\r\n}\r\n.form-rename {\r\n  > input {\r\n    margin-right: 0.5em;\r\n  }\r\n  > i {\r\n    color: #2196f3;\r\n  }\r\n  .fa-check:hover {\r\n    color: #4caf50;\r\n  }\r\n  .fa-times:hover {\r\n    color: #dd3333;\r\n  }\r\n}\r\n.more {\r\n  text-align: center;\r\n  color: #2196f3;\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Share.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Share.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Share.vue?vue&type=template&id=ec6d294e&scoped=true&\"\nimport script from \"./Share.vue?vue&type=script&lang=js&\"\nexport * from \"./Share.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Share.vue?vue&type=style&index=0&id=ec6d294e&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ec6d294e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}